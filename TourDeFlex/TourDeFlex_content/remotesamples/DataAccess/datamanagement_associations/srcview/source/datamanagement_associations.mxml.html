<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>datamanagement_associations.mxml</title>
<link rel="stylesheet" type="text/css" href="../SourceStyles.css"/>
</head>

<body><pre><span class="MXMLProcessing_Instruction">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> LiveCycle Data Services is required to use the approach described in this sample </span><span class="MXMLComment">--&gt;</span>
<span class="MXMLComponent_Tag">&lt;mx:Application</span><span class="MXMLDefault_Text"> xmlns:mx=&quot;</span><span class="MXMLString">http://www.adobe.com/2006/mxml</span><span class="MXMLDefault_Text">&quot; xmlns=&quot;</span><span class="MXMLString">*</span><span class="MXMLDefault_Text">&quot; layout=&quot;</span><span class="MXMLString">horizontal</span><span class="MXMLDefault_Text">&quot;
    backgroundGradientColors=&quot;</span><span class="MXMLString">[0x000000,0x323232]</span><span class="MXMLDefault_Text">&quot;
    applicationComplete=&quot;</span><span class="ActionScriptDefault_Text">ds</span>.<span class="ActionScriptDefault_Text">fill</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">contacts</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">&quot; viewSourceURL=&quot;</span><span class="MXMLString">srcview/index.html</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
    
    <span class="MXMLSpecial_Tag">&lt;mx:Script&gt;</span>
        <span class="ActionScriptOperator">&lt;!</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">CDATA</span><span class="ActionScriptBracket/Brace">[</span>
            
            <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">contact</span><span class="ActionScriptOperator">:</span><span class="ActionScriptDefault_Text">Contact</span>;

        <span class="ActionScriptBracket/Brace">]]</span><span class="ActionScriptOperator">&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;/mx:Script&gt;</span>

    <span class="MXMLComponent_Tag">&lt;mx:ArrayCollection</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">contacts</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span> 

    <span class="MXMLComponent_Tag">&lt;mx:ChannelSet</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">channelSet</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:RTMPChannel</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">rtmpChannel</span><span class="MXMLDefault_Text">&quot; url=&quot;</span><span class="MXMLString">rtmp://tourdeflex.adobe.com:2037</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:ChannelSet&gt;</span>

    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> See the definition of the &quot;contact&quot; destination in data-management-config.xml </span><span class="MXMLComment">--&gt;</span>    
    <span class="MXMLComponent_Tag">&lt;mx:DataService</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">ds</span><span class="MXMLDefault_Text">&quot; destination=&quot;</span><span class="MXMLString">contact</span><span class="MXMLDefault_Text">&quot; channelSet=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">channelSet</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;mx:DataGrid</span><span class="MXMLDefault_Text"> id=&quot;</span><span class="MXMLString">dg</span><span class="MXMLDefault_Text">&quot; dataProvider=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">contacts</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot; width=&quot;</span><span class="MXMLString">30%</span><span class="MXMLDefault_Text">&quot; height=&quot;</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">&quot;
        change=&quot;</span><span class="ActionScriptDefault_Text">contact</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">dg</span>.<span class="ActionScriptDefault_Text">selectedItem</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Contact</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:columns&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> dataField=&quot;</span><span class="MXMLString">contactId</span><span class="MXMLDefault_Text">&quot; headerText=&quot;</span><span class="MXMLString">Id</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> dataField=&quot;</span><span class="MXMLString">firstName</span><span class="MXMLDefault_Text">&quot; headerText=&quot;</span><span class="MXMLString">First Name</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:DataGridColumn</span><span class="MXMLDefault_Text"> dataField=&quot;</span><span class="MXMLString">lastName</span><span class="MXMLDefault_Text">&quot; headerText=&quot;</span><span class="MXMLString">Last Name</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:columns&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:DataGrid&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;mx:Form</span><span class="MXMLDefault_Text"> width=&quot;</span><span class="MXMLString">70%</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">First Name</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:TextInput</span><span class="MXMLDefault_Text"> text=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">contact</span>.<span class="ActionScriptDefault_Text">firstName</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">Last Name</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:TextInput</span><span class="MXMLDefault_Text"> text=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">contact</span>.<span class="ActionScriptDefault_Text">lastName</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">Account</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> There is a many-to-one association between Contact and Account. That association is 
             materialized by a property of type Account in the Contact class (see Contact.as).
             The association is defined in data-management-config.xml. Notice that this association
             is defined with lazy=&quot;true&quot;. In other words, the Account data is loaded lazily (only 
             when requested by the application). In this case, when the list of contacts is initially
             retrieved and displayed in the datagrid, the contacts&apos; account data is not loaded by the 
             client because the datagrid does not request (does not display) the account data.
             However, in the line below, the name of the account is displayed. When the system tries to 
             display this information, the dataservice automatically fetches the Account object 
             (for the selected contact only) by invoking the getItem method of the account service. </span><span class="MXMLComment">--&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:TextInput</span><span class="MXMLDefault_Text"> text=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">contact</span>.<span class="ActionScriptDefault_Text">account</span>.<span class="ActionScriptDefault_Text">name</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">Manager</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> There is a many-to-one association between Contact and Contact (A manager is another contact
             in the company). That association is materialized by a manager property of type Contact in the
             Contact class (see Contact.as). Just like for the account information, the manager information 
             is loaded lazily. The line of code below is going to force the dataservice to automatically load the 
             manager information for the selected contact. Note that in this specific case, the manager information
             will already be available at the client-side because the application initially retrieved *all* 
             the contacts to display them in the datagrid. The dataservice will therefore not go back to 
             the server to get the manager information but use the object already in memory. </span><span class="MXMLComment">--&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:TextInput</span><span class="MXMLDefault_Text"> text=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">contact</span>.<span class="ActionScriptDefault_Text">manager</span>.<span class="ActionScriptDefault_Text">fullName</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:FormItem</span><span class="MXMLDefault_Text"> label=&quot;</span><span class="MXMLString">Sales Rep</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> There is a many-to-one association between Contact and SalesRep. That association is 
             materialized by a property of type SalesRep in the Contact class (see Contact.as).
             Just like the account information, the salesrep information is lazy loaded. The line of code below 
             is going to force the dataservice to automatically load the SalesRep information for the selected contact.</span><span class="MXMLComment">--&gt;</span>
            <span class="MXMLComponent_Tag">&lt;mx:TextInput</span><span class="MXMLDefault_Text"> text=&quot;</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">contact</span>.<span class="ActionScriptDefault_Text">salesRep</span>.<span class="ActionScriptDefault_Text">fullName</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">&quot;</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:FormItem&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/mx:Form&gt;</span>
    
    <span class="MXMLSpecial_Tag">&lt;mx:Style&gt;</span>
        <span class="CSSSelector">FormItem </span><span class="CSSDelimiters">{</span>
            <span class="CSSProperty_Name">labelStyleName</span><span class="CSSDelimiters">:</span> <span class="CSSProperty_Value">formItemLabel</span><span class="CSSDelimiters">;</span>
        <span class="CSSDelimiters">}</span>
        <span class="CSSSelector">.formItemLabel </span><span class="CSSDelimiters">{</span>
            <span class="CSSProperty_Name">color</span><span class="CSSDelimiters">:</span> <span class="CSSProperty_Value">#FFFFFF</span><span class="CSSDelimiters">;</span>
        <span class="CSSDelimiters">}</span>
    <span class="MXMLSpecial_Tag">&lt;/mx:Style&gt;</span>

<span class="MXMLComponent_Tag">&lt;/mx:Application&gt;</span></pre></body>
</html>
